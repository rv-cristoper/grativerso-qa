import{u as z,j as o,c as y,v as E,E as P,G as f,g as _,C as Q,b as u,P as W,p as H,n as K,R as J}from"../shared/global.js";import"../shared/index2.js";import{R as Y}from"../shared/index.js";import{N as X}from"../shared/NavHeaderWithClose.js";import{L as Z}from"../shared/LoaderDisc.js";import{P as T,L as oo}from"../shared/PromoFin.js";import{c as R}from"../shared/index3.js";import{A as so,q as eo,H as ro,L as to,S as g,k as L,R as mo,C as ao,D as B,o as po,n as io}from"../shared/HeaderPromo.js";import"../shared/Button.js";import"../shared/TableItems.js";import{u as D}from"../shared/useWindowsSize.js";import{M as no}from"../shared/react-tooltip.min.js";import{a as lo,g as co,B as vo}from"../shared/helpers2.js";import"../shared/Table.js";import"../shared/carousel.js";import{T as xo}from"../shared/Table2.js";import{T as uo,I as go}from"../shared/TableHeader.js";import{c as ho}from"../shared/crash_icon.js";import{u as fo}from"../shared/useQuery.js";import{g as bo}from"../shared/getInfoFromSessionStorage.js";import{Q as jo}from"../shared/useBaseQuery.js";import{Q as No}from"../shared/queryClient.js";import"../shared/NavHeader.js";import"../shared/PaginationArrowIcon.js";import"../shared/useWantToValidate.js";import"../shared/useMutation.js";import"../shared/useDataPromo.js";import"../shared/helpers.js";import"../shared/CheckIcon.js";import"../shared/embla-carousel-react.esm.js";const wo="_CardPublicContainer_djuzd_2",yo={CardPublicContainer:wo},O=({data:t,avanceAll:i,isMonthly:a,title:v,classTitle:b="",showRightSection:h=!0,classNameContainer:j="",classnameLeftSection:s})=>{const N=D(),w=()=>{const p=document.getElementById("mySpot");p==null||p.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),f.Etiquetado({categoria:"visor de avance de puntos",accion:"click",etiqueta:"Visor de avance de puntos - ver tabla",value:0})},l=N.width<640,{promoCode:S}=z(),c=()=>{f.Etiquetado({categoria:"visor de avance de puntos",accion:"click",etiqueta:"Visor de avance de puntos - tooltip opciones",value:0})},n=p=>{p=="Puesto"&&f.Etiquetado({categoria:"página celebreishow",accion:"click",etiqueta:`avance - cabecera - ${lo(t.posicion)}`,value:0})};return o.jsxs("div",{className:"md:promos-v3-mx-auto lg:promos-v3-mx-0",children:[o.jsx("h3",{className:y(b,"promos-v3-text-xl md:promos-v3-text-2xl promos-v3-text-center promos-v3-font-bold promos-v3-mb-4 promos-v3-h-[24px] md:promos-v3-h-[29px] promos-v3-text-white"),children:v||`Así vas en el ranking ${a?"mensual":"semanal"}`}),o.jsxs("div",{className:y(j,t.posicion?yo.CardPublicContainer:"promos-v3-grid-cols-1 promos-v3-w-full promos-v3-max-w-[518px]  promos-v3-m-auto","promos-v3-grid promos-v3-gap-[24px]"),children:[o.jsxs(xo,{className:y(s,"promos-v3-outline promos-v3-outline-1 promos-v3-outline-[#FFFFFF33] promos-v3-rounded-[16px] md:promos-v3-h-[150px] promos-v3-min-w-[328px]"),children:[o.jsx(uo,{columns:["Tus puntos:","Tu puesto:"],bg:S,mobile:!1,textCenter:!0,extraClass:"promos-v3-rounded-t-[0] promos-v3-h-[31px] md:promos-v3-h-[36px] promos-v3-px-0 promos-v3-rounded-t-[16px]",onClick:n,sizeText:"promos-v3-text-[14px] md:promos-v3-text-[16px]",promo:"navidad"}),o.jsxs("div",{className:"promos-v3-flex promos-v3-h-[93px] md:promos-v3-h-[114px] md:promos-v3-place-content-center promos-v3-text-[#FFFFFF]",children:[o.jsxs("div",{className:y("promos-v3-flex promos-v3-items-center promos-v3-flex-col","promos-v3-min-w-[180px] promos-v3-w-[370px]","promos-v3-px-0 promos-v3-py-3"),children:[o.jsx("p",{className:"promos-v3-font-bold promos-v3-mb-0 promos-v3-text-[#FFFFFF] promos-v3-text-xl md:promos-v3-text-[24px] promos-v3-leading-[23px] promos-v3-pb-2",children:E(t.puntos)}),o.jsxs("div",{className:"promos-v3-text-center promos-v3-flex promos-v3-flex-col promos-v3-gap-1 promos-v3-w-[133px]",children:[o.jsx("p",{className:"promos-v3-text-xs md:promos-v3-text-sm promos-v3-mt-0 promos-v3-text-[#FFFFFF] promos-v3-text-center",children:"Opciones:"}),o.jsxs("p",{className:"promos-v3-text-sm md:promos-v3-text-base promos-v3-mt-0 promos-v3-text-[#FFFFFF] promos-v3-h-[18px] md:promos-v3-h-6 promos-v3-flex promos-v3-gap-1 promos-v3-items-start promos-v3-justify-center",children:[E(Math.floor(t.puntos/10)),o.jsx("span",{className:"promos-v3-w-4 promos-v3-h-4 md:promos-v3-w-6 md:promos-v3-h-6","data-tooltip-id":"my-tooltip-1",children:o.jsx(go,{classNames:"promos-v3-inline promos-v3-cursor-pointer promos-v3-relative promos-v3-top-[-2px]",width:l?"13.33":"20",height:l?"13.33":"20",color:"#fff"})}),o.jsx(no,{id:"my-tooltip-1",place:"top",variant:"light",className:"promos-v3-text-white !promos-v3-opacity-100 !promos-v3-bg-white !promos-v3-rounded-[4px]",style:{boxShadow:"0px 6px 7px 0px rgba(0, 0, 0, 0.70)"},afterShow:c,children:o.jsxs("div",{className:"promos-v3-text-center promos-v3-text-black promos-v3-bg-white promos-v3-text-base promos-v3-leading-tight",children:["Tus opciones se canjearán ",o.jsx("br",{}),"automáticamente para los ",o.jsx("br",{}),"sorteos."]})})]})]})]}),o.jsx("div",{className:"promos-v3-border-r-2 promos-v3-border-white promos-v3-border-opacity-20"}),o.jsx("div",{className:"promos-v3-flex promos-v3-flex-col promos-v3-justify-center promos-v3-items-center promos-v3-min-w-[146px] promos-v3-flex-grow promos-v3-basis-0",children:t.posicion>1500?o.jsx("img",{src:ho,alt:"",className:"promos-v3-w-[48px] promos-v3-h-[58px] md:promos-v3-w-[72px] md:promos-v3-h-[72px]"}):o.jsx(o.Fragment,{children:o.jsxs("div",{className:"promos-v3-flex promos-v3-flex-col promos-v3-gap-1 promos-v3-justify-center promos-v3-items-center",children:[o.jsx("span",{className:"promos-v3-text-[31px] md:promos-v3-text-[35px] promos-v3-font-extrabold promos-v3-h-10 promos-v3-mb-0 promos-v3-text-[#FFFFFF] promos-v3-leading-[39px] promos-v3-text-center",children:t.posicion?t.posicion:"-"}),t.posicion?o.jsxs("div",{className:"promos-v3-flex promos-v3-gap-1 promos-v3-items-center md:promos-v3-items-start promos-v3-justify-center promos-v3-h-[18px] md:promos-v3-h-[24px] promos-v3-w-[122px] promos-v3-px-3",children:[o.jsx("a",{onClick:w,className:"promos-v3-mt-0 promos-v3-mb-0 promos-v3-text-[14px] md:promos-v3-text-[18px] promos-v3-leading-[23px]  md:promos-v3-font-normal promos-v3-text-[#fff] promos-v3-underline  promos-v3-cursor-pointer promos-v3-font-normal",children:"Ver tabla"}),o.jsx("img",{onClick:w,src:`${P.BUCKET_IMG_PROMOCIONES}NAVIDAD/BONUS-TRACK/AVANCE/icon-table.png`,alt:"Ver en tabla",className:"promos-v3-cursor-pointer",style:{width:l?"12.67px":"19px",height:l?"12.67px":"19px",top:l?"-2":"-4px",position:"relative"}})]}):null]})})})]})]}),h&&t.posicion?o.jsx("div",{children:o.jsx(so,{data:t,dataGeneral:i??[],className:"!promos-v3-h-full promos-v3-items-center",keySemanas:a?"mensual":void 0})}):null]})]})},Co=async(t,i)=>{try{const{idPromotion:a}=_[t],{data:v}=await Q.get(`avancepublicopromocion/${i}/${a}`);return v.data}catch(a){throw console.error("Error en peticion",a),a}},So=(t,i)=>{const{data:a,isLoading:v}=fo(["publicAdvance",i],()=>Co(t,i),{refetchOnWindowFocus:!0,refetchInterval:3e5,enabled:i!==0});return{avance:a,isLoading:v}},C="celebreishow";function Fo(){const t=D(),i=bo("idAdvancePlayer"),{type:a}=_[C],[v,b]=u.useState(!1),[h,j]=u.useState(i??0),{avance:s,isLoading:N}=So(C,+h),[w,l]=u.useState(!0),S=e=>{const m=new Date;m.setMinutes(m.getMinutes()+20),j(e),sessionStorage.setItem("idAdvancePlayer",e.toString()),sessionStorage.setItem("sessionLifetime",m.toString())},c=e=>{e&&f.Etiquetado({categoria:"visor de avance de puntos",accion:"click",etiqueta:"Visor de avance de puntos - salir",value:0}),j(0),l(!0),b(!1),sessionStorage.removeItem("idAdvancePlayer"),sessionStorage.removeItem("sessionLifetime"),sessionStorage.removeItem("national_id")};if(u.useEffect(()=>(localStorage.setItem("ACBannerWithScroll1","true"),()=>{localStorage.removeItem("ACBannerWithScroll1")}),[]),u.useEffect(()=>{s&&w&&setTimeout(()=>{const e=document.getElementById("mySpot"),r=document.getElementById("tabla-position");e&&r&&r.scroll({top:e.offsetTop-r.offsetTop-220});const m=document.getElementById("sticky-800"),d=document.getElementById("fueraRango");m&&r&&d&&r.scroll({top:m.offsetTop-r.offsetTop}),l(!1)},50)},[s]),u.useEffect(()=>{const e=sessionStorage.getItem("sessionLifetime");if(e){const r=new Date(e),m=new Date;if(isNaN(r.getTime())||m>=r){c();return}const d=r.getTime()-m.getTime(),F=setTimeout(()=>{c()},d);return()=>clearTimeout(F)}else c()},[h]),v)return o.jsx(T,{goOut:c,type:"LOG_RANKING"});if(!h)return o.jsx(oo,{promoCode:C,setShowPromoFin:b,callBack:e=>S((e==null?void 0:e.idJuagadorUnificado)||0),setNationalID:e=>sessionStorage.setItem("national_id",e),type:"LOG_RANKING"});const n=s!=null&&s.avancePersonal?s==null?void 0:s.avancePersonal[0]:{posicion:0,puntos:0,premio:0,faltanPuntos:0,siguientePosicion:0,siguientePremio:0},p=s==null?void 0:s.avanceGeneral,A=s==null?void 0:s.fechaActualizacion;if(!N&&(s!=null&&s.avancePersonal)&&n.puntos<100)return o.jsx(T,{goOut:c,type:"LOG_RANKING"});const G=()=>o.jsx(to,{}),M=()=>{var e,r;return o.jsxs(o.Fragment,{children:[o.jsx(g,{extraClass:"promos-v3-m-0 md:promos-v3-m-auto promos-v3-p-0 md:promos-v3-py-8 max-md:promos-v3-px-[0]",children:o.jsx("div",{className:"promos-v3-flex promos-v3-flex-col lg:promos-v3-flex-row md:promos-v3-gap-x-10 md:promos-v3-mx-auto lg:promos-v3-mx-0",children:o.jsx(g,{extraClass:"max-md:promos-v3-pt-4 md:promos-v3-pt-0 md:promos-v3-pt-0 promos-v3-pb-6 lg:promos-v3-pb-0 md:promos-v3-mx-0 md:promos-v3-px-0",idSection:"avancePersonal",children:o.jsx(O,{data:n,avanceAll:p??[],isMonthly:((e=s==null?void 0:s.keySemana)==null?void 0:e.toUpperCase())==="GRAN FINAL"})})})}),o.jsx(g,{extraClass:"",children:o.jsx(L,{title:"Ranking y sorteos",subtitle:"",data:p,dataAvancePersonal:n,fechaActualizacion:A,isPublic:!0,isMonthly:((r=s==null?void 0:s.keySemana)==null?void 0:r.toUpperCase())==="GRAN FINAL"})})]})},U=()=>{var I,k;const e=t.width<640,r=n.posicion,m=co(r,io),d=m.name==="Diamante",F=x=>({1:"1er lugar",2:"2do lugar",3:"3er lugar",4:"4to lugar",5:"5to lugar",6:"6to lugar",7:"7mo lugar",8:"8vo lugar",9:"9no lugar",10:"10mo lugar",11:"11mo lugar",12:"12mo lugar",13:"13ro lugar",14:"14to lugar",15:"15to lugar",16:"16to lugar",17:"17mo lugar",18:"18vo lugar",19:"19no lugar",20:"20mo lugar"})[x]||`${x}to lugar`,q=x=>vo.premiosMensual[x-1].premio,V=()=>{f.Etiquetado({categoria:"página celebreishow",accion:"click",etiqueta:`resultados - ver cartilla - sorteo ${m.name.toLowerCase()}`,value:0});const x=sessionStorage.getItem("national_id");localStorage.setItem("user",JSON.stringify({national_id:x})),window.open("/casino-online/promociones/cartilla/celebreishow?mostrar-btn=false","_blank")};return o.jsxs(o.Fragment,{children:[o.jsx(mo,{lottery:m,isOthersBlocks:!1,classNameContainer:"promos-v3-mt-4 md:promos-v3-mt-8 !promos-v3-h-full",classNameImage:d?"md:!promos-v3-h-[160px]":"md:promos-v3-w-[500px] md:promos-v3-max-w-[500px]",classNameButton:d?"":"promos-v3-hidden"}),d?o.jsxs(o.Fragment,{children:[o.jsx(ao,{size:"sm",extraClass:"acCelebreishow promos-v3-mt-6 promos-v3-backdrop-blur-[50px] promos-v3-h-full md:promos-v3-h-[156px]",extraClassContainer:"promos-v3-px-4",children:o.jsxs("div",{className:"promos-v3-flex promos-v3-flex-col md:promos-v3-h-[99px] promos-v3-gap-6 max-md:promos-v3-h-auto",children:[o.jsxs("p",{className:"promos-v3-text-base promos-v3-leading-[15.5px] md:promos-v3-text-lg md:promos-v3-leading-[23px] max-md:promos-v3-text-center",children:["¡Arrasaste en el show! Quedaste en el"," ",o.jsx("strong",{children:F(r)})," y eres parte de los ganadores de esta promoción."]}),o.jsxs("p",{className:"promos-v3-text-base promos-v3-leading-[20px] md:promos-v3-text-lg md:promos-v3-leading-[23px] max-md:promos-v3-text-center",children:["Tu ",o.jsx("strong",{children:"premio sin sorteos"})," es de"," ",o.jsx("br",{className:"max-md:promos-v3-block promos-v3-hidden"}),o.jsxs("strong",{className:R("promos-v3-text-white",e?"promos-v3-text-2xl":""),children:["S/",H(q(r))]})," ",o.jsx("br",{className:"max-md:promos-v3-block promos-v3-hidden"}),"en efectivo."]})]})}),o.jsx("p",{className:"promos-v3-mt-4 md:promos-v3-mt-6 promos-v3-text-center promos-v3-font-bold promos-v3-text-sm md:promos-v3-text-base promos-v3-text-white promos-v3-mb-0 promos-v3-px-4",children:"Nos comunicaremos contigo para brindarte los detalles de tu premio."}),o.jsx(B,{className:"!promos-v3-mt-8 !promos-v3-mb-8 md:!promos-v3-mt-6 md:!promos-v3-mb-0"})]}):o.jsxs(o.Fragment,{children:[o.jsx(g,{extraClass:"promos-v3-m-0 md:promos-v3-m-auto promos-v3-pt-2 md:promos-v3-pt-[30px] max-md:promos-v3-px-[0] promos-v3-relative",children:o.jsx("div",{className:"promos-v3-flex promos-v3-flex-col lg:promos-v3-flex-row md:promos-v3-gap-x-10 md:promos-v3-mx-auto lg:promos-v3-mx-0",children:o.jsxs(g,{extraClass:"max-md:promos-v3-pt-4 md:promos-v3-pt-0 md:promos-v3-pt-0 promos-v3-pb-6 lg:promos-v3-pb-0 md:promos-v3-mx-0 md:promos-v3-px-0",idSection:"avancePersonal",children:[o.jsx(O,{data:n,avanceAll:p??[],isMonthly:((I=s==null?void 0:s.keySemana)==null?void 0:I.toUpperCase())==="GRAN FINAL",title:"En el show lograste acumular:",classTitle:"promos-v3-mb-4 md:promos-v3-mb-[30px] !promos-v3-text-lg md:!promos-v3-text-2xl",showRightSection:!1,classNameContainer:"promos-v3-grid-cols-1 promos-v3-w-full promos-v3-max-w-[414px] promos-v3-m-auto",classnameLeftSection:"promos-v3-max-h-[143px] promos-v3-backdrop-blur-[80px]"}),o.jsxs("div",{className:"promos-v3-text-center promos-v3-mt-4 promos-v3-pb-[6px] promos-v3-px-[15px]",children:[o.jsxs("p",{className:"promos-v3-text-white promos-v3-text-base md:promos-v3-text-lg",children:["Revisa tu cartilla y prepárate para el sorteo del"," ",o.jsx("b",{children:"05 de junio."})]}),o.jsx("p",{className:"promos-v3-text-white promos-v3-text-base md:promos-v3-text-lg",children:"¡Mucha suerte!"})]}),o.jsx(po,{lottery:m,data:void 0,points:n.puntos,textButton:"ir a ver cartilla",classButton:"!promos-v3-px-[14.5px] !promos-v3-py-[13.5px]",classContainer:"promos-v3-w-[566px]",customHandleVerCartilla:V})]})})}),o.jsx(B,{className:"!promos-v3-mt-2 md:!promos-v3-mt-10 !promos-v3-mb-8 md:!promos-v3-mb-2"})]}),o.jsx(g,{extraClass:"promos-v3-relative",children:o.jsx(L,{title:"Ranking y sorteos",subtitle:"",data:p,dataAvancePersonal:n,fechaActualizacion:A,isPublic:!0,isMonthly:((k=s==null?void 0:s.keySemana)==null?void 0:k.toUpperCase())==="GRAN FINAL",showBottomInformation:!1,classPersonalBlocks:"promos-v3-backdrop-blur-[80px]",classBodyTable:"promos-v3-backdrop-blur-[80px] !promos-v3-mb-16",classSeparator:"promos-v3-bg-[#3b1a55] md:promos-v3-bg-[#2e184d]"})})]})},$=`.SectionPromo::before {
    content: "";
    background-image: linear-gradient(180deg, rgba(30, 7, 64, 0) 83.23%, #1E0740 100%), url("${P.BUCKET_IMG_PROMOCIONES}CELEBREYSHOW/fondo-general-desktop.png");
    background-position: center top;
    position: absolute;
    width: 100%;
    height: 100%;
    background-size: contain;
    background-repeat: no-repeat;
    transform-origin: top center;
    mix-blend-mode: lighten;
  }
  @media (max-width: 425px) {
    .SectionPromo::before {
      background-image: linear-gradient(180deg, rgba(30, 7, 64, 0) 83.23%, #1E0740 100%), url("${P.BUCKET_IMG_PROMOCIONES}CELEBREYSHOW/RESULTADO/fondo-resultados-mobile.png");
      transform: scale(1.8);
    }
  }
  `;return o.jsxs(o.Fragment,{children:[o.jsx("style",{scoped:!0,children:$}),o.jsxs("div",{className:"promos-v3-root promos-v3-overflow-hidden",children:[o.jsx(X,{callBack:()=>c(!0)}),o.jsx(W,{promoCode:C,optIn:!0,typePromotion:a,children:o.jsxs(eo,{children:[o.jsx(ro,{promoFin:!0,showTag:!1,weeklyText:(s==null?void 0:s.keySemana)||""}),o.jsx("div",{className:"promos-v3-flex promos-v3-flex-col promos-v3-flex-1",children:N?o.jsx(Z,{extraClass:"promos-v3-bg-[transparent] !promos-v3-text-white",extraClassText:"!promos-v3-text-white"}):o.jsx("div",{className:R(s!=null&&s.habilitarResultado?"SectionPromo":"","promos-v3-text-white promos-v3-relative promos-v3-bg-[#1e0740]"),children:s!=null&&s.etapaValidacionActiva?G():s!=null&&s.habilitarResultado?U():M()})})]})})]})]})}const Po=new No;K.createRoot(document.getElementById("root")).render(o.jsx(J.StrictMode,{children:o.jsxs(jo,{client:Po,children:[o.jsx(Y,{}),o.jsx(Fo,{})]})}));
