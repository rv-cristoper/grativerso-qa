import{j as o,c as N,E as S,u as io,b as x,P as O,g as P,G as I,n as lo,R as co,T as po,M as vo}from"../shared/global.js";import"../shared/index2.js";import{R as xo}from"../shared/index.js";import{E as w,L as uo}from"../shared/caf.js";import{g as F}from"../shared/getInfoFromSessionStorage.js";import{E as b}from"../shared/ELottery.js";import{N as go}from"../shared/NavHeader.js";import{N as fo}from"../shared/NavHeaderWithClose.js";import{L as U}from"../shared/LoaderDisc.js";import{P as Z,h as ho}from"../shared/PromoFin2.js";import{L as jo,S as g,A as oo,B as eo,b as so,R as yo,c as ro,a as ao}from"../shared/LabelDateLottery.js";import"../shared/Button.js";import"../shared/TableItems.js";import{E as Co}from"../shared/react-tooltip.min.js";import{C as E}from"../shared/useResultadosAnteriores.js";import{u as R}from"../shared/useQuery.js";import{B as T}from"../shared/carousel.js";import{Q as So}from"../shared/useBaseQuery.js";import{Q as No}from"../shared/queryClient.js";import"../shared/PaginationArrowIcon.js";import"../shared/useWantToValidate.js";import"../shared/useMutation.js";import"../shared/CloseIcon.js";import"../shared/index3.js";import"../shared/helpers2.js";import"../shared/Table2.js";import"../shared/helpers.js";import"../shared/useWindowsSize.js";import"../shared/CustomSimpleCard.js";import"../shared/TableHeader.js";import"../shared/useDataPromo.js";import"../shared/Divider.js";import"../shared/crash_icon.js";import"../shared/useDataTransmision.js";import"../shared/embla-carousel-react.esm.js";const wo="_homeContainer_ss3ss_2",Ao="_logo_ss3ss_28",bo="_card_ss3ss_33",Po="_card__week_ss3ss_42",Io="_card__month_ss3ss_48",k={homeContainer:wo,logo:Ao,card:bo,card__week:Po,card__month:Io};function Eo(n){const{handlePageChange:e,currentWeek:m}=n,a=m===b.SEMANA4?"Semana 3":m,l=`.homeContainer::before{
      background: radial-gradient(55.21% 55.21% at 50% 100%, rgba(22, 11, 53, 0.00) 0%, rgba(22, 11, 53, 0.50) 100%), url("${S.BUCKET_IMG_PROMOCIONES}GRATIVERSO-V2/CAF/bgLoginGrativerso.png") lightgray 50% / cover no-repeat;
    }
    @media (max-width: 650px) {
      .homeContainer::before {
        background: linear-gradient(180deg, rgba(12, 9, 53, 0.00) 2.25%, rgba(12, 9, 53, 0.80) 59.65%), url("${S.BUCKET_IMG_PROMOCIONES}GRATIVERSO-V2/CAF/bgMobileLoginGrativerso.jpg") lightgray 50% / cover no-repeat;
      }
    }
    `;return o.jsxs(o.Fragment,{children:[o.jsx("style",{scoped:!0,children:l}),o.jsx("div",{className:N(k.homeContainer,"homeContainer"),children:o.jsxs("div",{children:[o.jsxs("picture",{children:[o.jsx("source",{media:"(max-width: 650px)",srcSet:S.BUCKET_IMG_PROMOCIONES+"GRATIVERSO-V2/CAF/logoMobile.png"}),o.jsx("img",{src:S.BUCKET_IMG_PROMOCIONES+"GRATIVERSO-V2/CAF/logo.png",className:N(k.logo,"promos-v3-mb-[29px] md:promos-v3-mb-0"),alt:"logo",draggable:"false"})]}),o.jsxs("div",{className:N("promos-v3-flex   promos-v3-gap-x-[35px] promos-v3-gap-y-[17px] promos-v3-items-center",m===b.SEMANA4?"promos-v3-flex-col-reverse md:promos-v3-flex-row-reverse":"promos-v3-flex-col md:promos-v3-flex-row"),children:[o.jsxs("div",{className:N(k.card,k.card__week),onClick:()=>e("semanal",a.toLowerCase()),children:[o.jsx("img",{className:"promos-v3-rounded-[10px]",src:S.BUCKET_IMG_PROMOCIONES+`GRATIVERSO-V2/CAF/HOME/${a.toLowerCase().replace(" ","")}.png`,alt:a,draggable:"false"}),o.jsx("p",{className:"promos-v3-text-white promos-v3-absolute promos-v3-w-full promos-v3-text-center promos-v3-text-sm md:promos-v3-text-lg promos-v3-font-bold promos-v3-bottom-[46px] md:promos-v3-bottom-[62px]",children:"Más de S/163,000 en premios."})]}),o.jsxs("div",{className:N(k.card,k.card__month),onClick:()=>e("mensual","gran final"),children:[o.jsx("img",{className:"promos-v3-rounded-[10px]",src:S.BUCKET_IMG_PROMOCIONES+"GRATIVERSO-V2/CAF/HOME/mensual.png",alt:"Gran Final",draggable:"false"}),o.jsx("p",{className:"promos-v3-text-white promos-v3-absolute promos-v3-w-full promos-v3-text-center promos-v3-text-sm md:promos-v3-text-lg promos-v3-font-bold promos-v3-bottom-[46px] md:promos-v3-bottom-[62px]",children:"Más de S / 1'000,000 en premios."})]})]})]})})]})}const Ro="_headerCaf_qjt5c_2",Mo={headerCaf:Ro};function L(){const{promoCode:n}=io(),e=n===Co.MENSUAL;return o.jsx("p",{className:`promos-v3-text-[#4B2909] promos-v3-text-sm promos-v3-px-3 promos-v3-py-[6px] promos-v3-font-bold promos-v3-rounded-[8px] ${e?"promos-v3-w-[201px]":"promos-v3-w-[175px]"} promos-v3-h-[29px]`,style:{background:"linear-gradient(90deg, #C38950 -23.7%, #F8F090 120.48%)"},children:e?"¡Sorteo 07 de agosto, 1 PM!":"¡El sorteo es hoy, 2 PM!"})}function _(n){const{fechaFinAcumulacion:e,className:m,showDrawDate:a}=n,l=`.headerCaf {
        background: linear-gradient(180deg, rgba(29, 7, 61, 0.00) 61.33%, #1d073d 100%), url("${S.BUCKET_IMG_PROMOCIONES}GRATIVERSO-V2/CAF/HEADER/bgCaf.jpg") lightgray 50% / cover no-repeat;
      }
      @media (max-width: 650px) {
        .headerCaf {
          background: url("${S.BUCKET_IMG_PROMOCIONES}GRATIVERSO-V2/CAF/HEADER/bgMobileCaf.png") lightgray 50% / cover no-repeat;
        }
      }
      `;return o.jsxs(o.Fragment,{children:[o.jsx("style",{scoped:!0,children:l}),o.jsx("div",{className:N(Mo.headerCaf,"headerCaf",m),style:{backgroundColor:"#1D073D"},children:o.jsxs("div",{className:"promos-v3-flex promos-v3-text-white promos-v3-items-center promos-v3-flex-col xl:promos-v3-flex-row",children:[o.jsx("img",{className:"promos-v3-w-[192px] md:promos-v3-w-[656px] promos-v3-h-[42px] md:promos-v3-h-[130px]",src:`${S.BUCKET_IMG_PROMOCIONES}GRATIVERSO-V2/CAF/HEADER/logo.png`,alt:"logo"}),o.jsxs("div",{className:"promos-v3-w-[521px] promos-v3-flex promos-v3-flex-col promos-v3-justify-center promos-v3-items-center",children:[o.jsx("div",{className:"promos-v3-w-[260px] md:promos-v3-w-[388px]",children:o.jsx(jo,{isCafSemanal:!0,mainClassName:"!promos-v3-h-[25px] md:!promos-v3-h-[45px]",className:"!promos-v3-min-w-[260px] md:!promos-v3-min-w-[388px] !promos-v3-h-[25px] md:!promos-v3-h-[45px]",classLabel1:"!promos-v3-w-[114px] md:!promos-v3-w-[149px]",classLabel2:"!promos-v3-w-[146px] md:!promos-v3-w-[239px]"})}),e&&o.jsxs("p",{className:"promos-v3-text-white promos-v3-text-sm md:promos-v3-text-2xl promos-v3-mt-[10px] md:promos-v3-mt-2",children:["Acumula puntos hasta el ",o.jsx("b",{children:e})]}),a&&o.jsx("div",{className:"promos-v3-mt-4",children:o.jsx(L,{})})]})]})})]})}function to(n){if(!n)return"";const e=new Date(n);if(isNaN(e.getTime()))return"";const m=e.getDate(),l=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"][e.getMonth()];let t=e.getHours();const i=e.getMinutes(),s=t>=12?"PM":"AM";t=t%12,t=t===0?12:t;const c=i<10?`0${i}`:i;return`${m} de ${l} ${t}:${c} ${s}`}const $="grativerso-semanal",ko="grativerso-mensual";function Oo(n){var u;const[e,m]=x.useState(!0),a=sessionStorage.getItem("storedUnifiedPlayerId")??"0",{idPromotion:l,type:t}=P[$],{idPromotion:i}=P[ko],{data:s,isLoading:c}=R({queryKey:["weekInfo",l,a],queryFn:()=>E.getAvanceInfo(l,+a),enabled:!!a}),{data:r}=R({queryKey:["getBonusTrackInfo",i,a],queryFn:()=>E.getBonusTrackInfo(i,+a),enabled:!!a}),p=()=>{n.handlePageChange("mensual"),I.Etiquetado({categoria:"página caf grativerso",accion:"click",etiqueta:"semanal avance - gran final",value:0})};if(x.useEffect(()=>{s&&e&&setTimeout(()=>{const A=document.getElementById("mySpot"),h=document.getElementById("tabla-position");A&&h&&h.scroll({top:A.offsetTop-h.offsetTop-220});const D=document.getElementById("sticky-800"),B=document.getElementById("fueraRango");D&&h&&B&&h.scroll({top:D.offsetTop-h.offsetTop}),m(!1)},50)},[s,e]),c)return o.jsx(U,{text:"Cargando..."});const v=s==null?void 0:s.hasBonusTrack,d=s!=null&&s.avancePersonal?s==null?void 0:s.avancePersonal[0]:{posicion:1501,puntos:0,premio:0,faltanPuntos:0,siguientePosicion:0,siguientePremio:0},f=s==null?void 0:s.avanceGeneral,j=s==null?void 0:s.fechaActualizacion,y=to(s!=null&&s.fechaAcumulacion?s.fechaAcumulacion[0].fechaFinAcumulacion:"");return o.jsx(O,{promoCode:$,keySemanas:s==null?void 0:s.keySemana,optIn:!0,typePromotion:t,children:o.jsxs("div",{className:"promos-v3-overflow-hidden",children:[o.jsx(_,{fechaFinAcumulacion:y}),o.jsx("div",{className:"promos-v3-flex promos-v3-flex-col promos-v3-flex-1",children:o.jsxs("div",{className:N("promos-v3-text-white promos-v3-relative"),children:[o.jsx(g,{extraClass:"promos-v3-m-0 md:promos-v3-m-auto promos-v3-p-0 md:promos-v3-py-8 max-md:promos-v3-px-[0]",children:o.jsxs("div",{className:"promos-v3-flex promos-v3-flex-col xl:promos-v3-flex-row promos-v3-gap-x-10 promos-v3-gap-y-6 md:promos-v3-mx-auto promos-v3-items-center xl:promos-v3-items-start lg:promos-v3-mx-0",children:[o.jsx(g,{extraClass:"max-md:promos-v3-pt-4 md:promos-v3-pt-0 md:promos-v3-pt-0 md:promos-v3-mx-0 md:promos-v3-px-0 promos-v3-max-w-[518px]",idSection:"avancePersonal",children:o.jsx(oo,{data:d,avanceAll:f??[],userWithPoints:!0,isCafSemanal:!0})}),o.jsx(g,{extraClass:"promos-v3-pb-6 md:promos-v3-pb-0 lg:promos-v3-mx-0 md:promos-v3-px-0 md:promos-v3-max-w-[518px] md:promos-v3-flex-none",idSection:"bonusAvance",children:o.jsx(eo,{data:r!=null&&r.metas?r.metas[0]:null,hasBonusTrack:v,fechaActualizacion:j,userWithPoints:!0,isCafSemanal:!0})})]})}),o.jsx(g,{extraClass:"",children:o.jsx(so,{title:"Ranking y sorteos",subtitle:"",data:f,dataAvancePersonal:d,fechaActualizacion:j,showBottomInformation:!1,isCafSemanal:!0})}),((u=s==null?void 0:s.keySemana)==null?void 0:u.toUpperCase())!==b.SEMANA1&&o.jsx(g,{extraClass:"promos-v3-pt-[24px] promos-v3-place-items-center",children:o.jsx(Z,{isCaf:!0,isAvance:!0})}),o.jsx(g,{extraClass:"promos-v3-pt-[24px] promos-v3-pb-[40px] md:promos-v3-pb-[64px]",children:o.jsxs("p",{className:"promos-v3-text-white promos-v3-text-center promos-v3-text-base md:promos-v3-text-lg promos-v3-h-[40px]",children:["Y recuerda, tus puntos también juegan en el sorteo de la"," ",o.jsx("b",{className:"promos-v3-text-white promos-v3-underline promos-v3-cursor-pointer",onClick:p,children:"Gran Final."})]})})]})})]})})}const _o="_cardBloque_bowup_2",To={cardBloque:_o},K="grativerso-mensual";function Uo(n){var G;const e=n.semana===b.SEMANA4,[m,a]=x.useState(!0),[l,t]=x.useState(!1),i=sessionStorage.getItem("storedUnifiedPlayerId")??"0",{idPromotion:s,type:c}=P[K],{data:r,isLoading:p}=R({queryKey:["weekInfo",s,i],queryFn:()=>E.getAvanceInfo(s,+i),enabled:!!i}),{data:v}=R({queryKey:["getBonusTrackInfo",s,i],queryFn:()=>E.getBonusTrackInfo(s,+i),enabled:!!i}),d=()=>{n.handlePageChange("semanal"),I.Etiquetado({categoria:"página caf grativerso",accion:"click",etiqueta:"mensual avance - ver semana",value:0})},f=()=>{t(!0),document.body.style.overflow="hidden",I.Etiquetado({categoria:"página caf grativerso",accion:"click",etiqueta:"mensual avance - ver ranking y sorteos",value:0}),I.Etiquetado({categoria:"página caf grativerso",accion:"carga modal",etiqueta:"mensual modal ranking y sorteos - carga",value:0})},j=()=>{t(!1),document.body.style.overflow="initial",I.Etiquetado({categoria:"página caf grativerso",accion:"click",etiqueta:"mensual modal ranking y sorteos - cierre",value:0})};if(x.useEffect(()=>{r&&m&&setTimeout(()=>{const V=document.getElementById("mySpot"),M=document.getElementById("tabla-position");V&&M&&M.scroll({top:V.offsetTop-M.offsetTop-220});const q=document.getElementById("sticky-800"),mo=document.getElementById("fueraRango");q&&M&&mo&&M.scroll({top:q.offsetTop-M.offsetTop}),a(!1)},50)},[r,m]),p)return o.jsx(U,{text:"Cargando..."});const y=r==null?void 0:r.hasBonusTrack,u=r!=null&&r.avancePersonal?r==null?void 0:r.avancePersonal[0]:{posicion:1501,puntos:0,premio:0,faltanPuntos:0,siguientePosicion:0,siguientePremio:0},A=r==null?void 0:r.avanceGeneral,h=r==null?void 0:r.fechaActualizacion,D=to(r!=null&&r.fechaAcumulacion?r.fechaAcumulacion[0].fechaFinAcumulacion:""),B=u.posicion,C=ho(B),no=(C==null?void 0:C.name)==="Diamante";return o.jsx(o.Fragment,{children:o.jsxs(O,{promoCode:K,keySemanas:(G=r==null?void 0:r.keySemana)==null?void 0:G.toUpperCase(),optIn:!0,typePromotion:c,children:[o.jsxs("div",{className:"promos-v3-overflow-hidden",children:[o.jsx(_,{fechaFinAcumulacion:D,className:`${e?"":"promos-v3-hidden"} md:promos-v3-flex`}),o.jsx("div",{className:"promos-v3-flex promos-v3-flex-col promos-v3-flex-1",children:o.jsxs("div",{className:N("promos-v3-text-white promos-v3-relative"),children:[o.jsxs(g,{extraClass:"promos-v3-pt-4 md:promos-v3-pt-6 promos-v3-pb-0 md:promos-v3-pb-2",children:[o.jsx("h3",{className:`promos-v3-text-xl ${e?"md:promos-v3-text-3xl":"md:promos-v3-text-2xl"} promos-v3-text-center promos-v3-font-bold promos-v3-h-[24px] md:promos-v3-h-[29px] promos-v3-text-white`,children:"Tu avance en el ranking mensual es:"}),o.jsxs("p",{className:`promos-v3-block 
                    ${e?"":"md:promos-v3-hidden"} promos-v3-text-base md:promos-v3-text-lg promos-v3-text-white promos-v3-text-center promos-v3-pt-4 md:promos-v3-pt-1`,children:["Vive la Gran final el ",o.jsx("b",{children:"7 de agosto 2 PM"})]})]}),o.jsx(g,{extraClass:"promos-v3-m-0 md:promos-v3-m-auto promos-v3-p-0 md:promos-v3-py-8 max-md:promos-v3-px-[0]",children:o.jsxs("div",{className:"promos-v3-flex promos-v3-flex-col xl:promos-v3-flex-row promos-v3-gap-x-10 promos-v3-gap-y-6 md:promos-v3-mx-auto promos-v3-items-center xl:promos-v3-items-start lg:promos-v3-mx-0",children:[o.jsxs(g,{extraClass:"max-md:promos-v3-pt-4 md:promos-v3-pt-0 md:promos-v3-pt-0 md:promos-v3-mx-0 md:promos-v3-px-0 promos-v3-max-w-[518px] promos-v3-flex promos-v3-flex-col md:promos-v3-grid promos-v3-gap-y-4",idSection:"avancePersonal",children:[C&&o.jsxs("div",{className:N(To.cardBloque,"promos-v3-gap-x-2 md:promos-v3-gap-x-3"),children:[o.jsx("img",{src:`${S.BUCKET_IMG_PROMOCIONES}GRATIVERSO-V2/CAF/AVANCE/${C==null?void 0:C.name.toLowerCase()}.png`,alt:"",className:"promos-v3-w-[48px] promos-v3-h-[48px]"}),o.jsxs("div",{className:"promos-v3-text-sm promos-v3-text-center",children:["Estas en el"," ",o.jsxs("b",{children:[no?"Ranking":"Sorteo"," ",C==null?void 0:C.name]}),", sigue así y consigue tu grati extra. ¡Tú puedes!"]})]}),o.jsx(oo,{data:u,avanceAll:A??[],userWithPoints:!0,isCafSemanal:!0,showAditionalElements:e,showTitle:!e}),!e&&o.jsx("div",{className:"promos-v3-w-max promos-v3-m-auto promos-v3-pt-2 md:promos-v3-pt-0",children:o.jsxs("p",{className:"promos-v3-text-base md:promos-v3-text-lg promos-v3-w-[250px] promos-v3-text-center promos-v3-h-[38px] md:promos-v3-h-[44px] promos-v3-leading-[19px] md:promos-v3-leading-[23px] promos-v3-text-white",children:["¡Conoce como van los mejores!"," ",o.jsx("b",{className:"promos-v3-underline promos-v3-cursor-pointer promos-v3-text-white",onClick:f,children:"Ver Ranking y sorteos"})]})})]}),o.jsx(g,{extraClass:"promos-v3-pb-6 md:promos-v3-pb-0 lg:promos-v3-mx-0 md:promos-v3-px-0 md:promos-v3-max-w-[518px] md:promos-v3-flex-none",idSection:"bonusAvance",children:o.jsx(eo,{data:v!=null&&v.metas?v.metas[0]:null,hasBonusTrack:y,fechaActualizacion:h,userWithPoints:!0,isCafSemanal:!0})})]})}),e?o.jsxs(o.Fragment,{children:[o.jsx(g,{extraClass:"",children:o.jsx(so,{title:"Ranking y sorteos",subtitle:"",data:A,dataAvancePersonal:u,fechaActualizacion:h,showBottomInformation:!1,isCafSemanal:!0})}),o.jsx(g,{extraClass:"promos-v3-pt-[24px] promos-v3-pb-[40px] md:promos-v3-pb-[64px] promos-v3-place-items-center",children:o.jsx(Z,{isCaf:!0,isAvance:!0})})]}):o.jsx(g,{extraClass:"promos-v3-pt-0 promos-v3-pb-[40px] md:promos-v3-pt-[24px] md:promos-v3-pb-[24px]",children:o.jsxs("p",{className:"promos-v3-text-white promos-v3-text-center promos-v3-text-base md:promos-v3-text-lg promos-v3-h-[40px]",children:["Y recuerda, tus puntos también juegan en los sorteos semanales."," ",o.jsx("b",{className:"promos-v3-text-white promos-v3-underline promos-v3-cursor-pointer",onClick:d,children:"Ver semana"})]})})]})})]}),l&&o.jsx(yo,{data:A,dataAvancePersonal:u,fechaActualizacion:h,closeModalRanking:j,isFromModal:!0})]})})}const W="grativerso-semanal";function Do(n){const{type:e}=P[W];return o.jsx(O,{promoCode:W,keySemanas:n.keySemanas,optIn:!0,typePromotion:e,children:o.jsxs("div",{className:"promos-v3-overflow-hidden",children:[o.jsx(_,{}),o.jsx(ro,{isCaf:!0})]})})}const z="grativerso-mensual";function Fo(n){const{type:e}=P[z];return o.jsx(O,{promoCode:z,keySemanas:n.keySemanas,optIn:!0,typePromotion:e,children:o.jsxs("div",{className:"promos-v3-overflow-hidden",children:[o.jsx(_,{}),o.jsx(ro,{isCaf:!0})]})})}const H="grativerso-semanal";function Q(n){const[e,m]=x.useState(!1),a=sessionStorage.getItem("storedUnifiedPlayerId")??"0",{idPromotion:l,type:t}=P[H],{data:i,isLoading:s}=R({queryKey:["Resultado",l,a],queryFn:()=>E.getResultado(l,+a),enabled:!!a});return s?o.jsx(U,{text:"Cargando..."}):o.jsx(O,{promoCode:H,keySemanas:n.keySemanas,optIn:!0,typePromotion:t,children:o.jsxs("div",{className:"promos-v3-overflow-hidden promos-v3-text-white promos-v3-flex promos-v3-flex-col",children:[o.jsx(_,{className:"promos-v3-hidden md:promos-v3-flex",showDrawDate:e}),e&&o.jsx("div",{className:"md:promos-v3-hidden promos-v3-absolute promos-v3-z-[1] promos-v3-right-0",children:o.jsx(L,{})}),o.jsx(ao,{isLoading:s,resultado:i,setPromoFin:()=>{},isCaf:!0,setShowDate:m})]})})}const Y="grativerso-mensual";function J(n){const[e,m]=x.useState(!1),a=sessionStorage.getItem("storedUnifiedPlayerId")??"0",{idPromotion:l,type:t}=P[Y],{data:i,isLoading:s}=R({queryKey:["Resultado",l,a],queryFn:()=>E.getResultado(l,+a),enabled:!!a});return s?o.jsx(U,{text:"Cargando..."}):o.jsx(O,{promoCode:Y,keySemanas:n.keySemanas,optIn:!0,typePromotion:t,children:o.jsxs("div",{className:"promos-v3-overflow-hidden promos-v3-text-white promos-v3-flex promos-v3-flex-col",children:[o.jsx(_,{className:"promos-v3-hidden md:promos-v3-flex",showDrawDate:e}),e&&o.jsx("div",{className:"md:promos-v3-hidden promos-v3-absolute promos-v3-z-[1] promos-v3-right-0",children:o.jsx(L,{})}),o.jsx(ao,{isLoading:s,resultado:i,setPromoFin:()=>{},isCaf:!0,setShowDate:m})]})})}function Bo({handlePageChange:n}){const e=F("storedNationalId"),m=F("storedUnifiedPlayerId"),[a,l]=x.useState(e??""),[t,i]=x.useState(m??""),[s,c]=x.useState(!1),r=()=>{sessionStorage.setItem("storedNationalId",a),sessionStorage.setItem("storedUnifiedPlayerId",t),window.location.reload()};return o.jsx("div",{className:N("promos-v3-fixed promos-v3-z-[999] promos-v3-bg-white promos-v3-p-2 promos-v3-top-20",s?"":"promos-v3-opacity-10"),onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onTouchStart:()=>c(p=>!p),children:s?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"promos-v3-flex promos-v3-gap-1",children:[o.jsx(T,{onClick:()=>n("home"),children:"Ver principal"}),o.jsx(T,{onClick:()=>n("semanal"),children:"Ver semanal"}),o.jsx(T,{onClick:()=>n("mensual"),children:"Ver mensual"})]}),o.jsx("div",{className:"promos-v3-w-full promos-v3-h-[2px] promos-v3-bg-black promos-v3-my-2"}),o.jsxs("div",{className:"promos-v3-grid promos-v3-gap-1",children:[o.jsxs("label",{className:"promos-v3-grid",children:["Documento de identidad:",o.jsx("input",{type:"text",className:"promos-v3-border-1 promos-v3-border-black promos-v3-rounded-md promos-v3-px-2 promos-v3-font-bold",value:a,onChange:p=>l(p.target.value)})]}),o.jsxs("label",{className:"promos-v3-grid",children:["Id unificado:",o.jsx("input",{type:"text",className:"promos-v3-border-1 promos-v3-border-black promos-v3-rounded-md promos-v3-px-2 promos-v3-font-bold",value:t,onChange:p=>i(p.target.value)})]})]}),o.jsx("div",{className:"promos-v3-mt-3",children:o.jsx(T,{className:"promos-v3-w-full",onClick:r,children:"Actualizar"})})]}):o.jsx(T,{children:"Valores CAF"})})}const X="grativerso-mensual";function Lo(n){const{closeSession:e}=n,m=new URLSearchParams(window.location.search),l=m.get("mostrar-btn")==="false",t=m.get("pagina")??"home",i=["semanal","mensual","home"].includes(t),[s,c]=x.useState(i?t:"home"),{idPromotion:r}=P[X],{data:p,isLoading:v}=R({queryKey:["weekInfo",X],queryFn:()=>E.getWeekInfo(r||0),enabled:!!r,refetchOnWindowFocus:!1}),d=(j,y)=>{c(j);const u=new URLSearchParams(window.location.search);u.set("pagina",j),window.history.pushState({},"",`${window.location.pathname}?${u.toString()}`),y&&I.Etiquetado({categoria:"página caf grativerso",accion:"click",etiqueta:`login - ${y}`,value:0})};x.useEffect(()=>{const j=sessionStorage.getItem("storedSessionLifetime");if(j){const y=new Date(j),u=new Date;if(isNaN(y.getTime())||u>=y){e(!1);return}const A=y.getTime()-u.getTime(),h=setTimeout(()=>{e(!1)},A);return()=>clearTimeout(h)}else e(!1)},[e]);const f=window.location.origin!=="https://www.casinoatlanticcity.com";return o.jsxs(o.Fragment,{children:[f&&o.jsx(Bo,{handlePageChange:d}),o.jsx("div",{className:"promos-v3-absolute promos-v3-inset-0",children:o.jsxs("div",{className:"promos-v3-bg-[#1D073D] promos-v3-flex promos-v3-flex-col promos-v3-relative promos-v3-min-h-full",children:[l?o.jsx(go,{extraClass:"promos-v3-sticky promos-v3-top-0"}):o.jsx(fo,{callBack:()=>e(!0)}),v?o.jsx(U,{text:"Cargando..."}):o.jsx(Go,{data:p,currentPage:s,handlePageChange:d})]})})]})}function Go(n){const{data:e,currentPage:m,handlePageChange:a}=n,t=(()=>{const r=(e==null?void 0:e.data.listasPromocion)??[],p=r.filter(({idPromocion:d,hasEstadoPromocion:f})=>d===33&&f==="ACTIVO").map(({nombrePromocion:d,etapaActiva:f})=>({nombrePromocion:d,etapaActiva:f})),v=r.filter(({idPromocion:d})=>d===32).map(({nombrePromocion:d,etapaActiva:f})=>({nombrePromocion:d,etapaActiva:f}));return{semanal:p.length?{nombrePromocion:p[0].nombrePromocion,etapaActiva:p[0].etapaActiva}:{nombrePromocion:b.SEMANA4,etapaActiva:w.RESULTADO},mensual:v[0]}})(),i={[w.ACUMULACION]:o.jsx(Oo,{handlePageChange:a}),[w.VALIDACION]:o.jsx(Do,{keySemanas:t.semanal.nombrePromocion}),[w.RESULTADO_RANKING]:o.jsx(Q,{keySemanas:t.semanal.nombrePromocion}),[w.RESULTADO]:o.jsx(Q,{keySemanas:t.semanal.nombrePromocion})},s={[w.ACUMULACION]:o.jsx(Uo,{handlePageChange:a,semana:t.semanal.nombrePromocion}),[w.VALIDACION]:o.jsx(Fo,{keySemanas:b.SEMANA4}),[w.RESULTADO_RANKING]:o.jsx(J,{keySemanas:b.SEMANA4}),[w.RESULTADO]:o.jsx(J,{keySemanas:b.SEMANA4})};return{semanal:i[t.semanal.etapaActiva],mensual:s[t.mensual.etapaActiva],home:o.jsx(Eo,{handlePageChange:a,currentWeek:t.semanal.nombrePromocion})}[m]}const Vo="grativerso-mensual";function qo(){const n=F("storedNationalId"),e=F("storedUnifiedPlayerId"),[m,a]=x.useState(n??""),[l,t]=x.useState(e?+e:0),i=(c,r)=>{if(!c.idJuagadorUnificado)return;a(r),t(c.idJuagadorUnificado);const p=20,v=new Date;v.setMinutes(v.getMinutes()+p),sessionStorage.setItem("storedNationalId",String(r)),sessionStorage.setItem("storedUnifiedPlayerId",String(c.idJuagadorUnificado)),sessionStorage.setItem("storedSessionLifetime",String(v))},s=c=>{a(""),t(0),sessionStorage.clear(),window.history.pushState({},"",window.location.pathname),document.body.style.overflow="initial",c&&I.Etiquetado({categoria:"página caf grativerso",accion:"click",etiqueta:"header - salir",value:0})};return!m||!l?o.jsx(uo,{promoCode:Vo,callBack:i,type:"LOG_RANKING"}):o.jsx(Lo,{closeSession:s})}const $o=new No;lo.createRoot(document.getElementById("root")).render(o.jsx(co.StrictMode,{children:o.jsx(So,{client:$o,children:o.jsx(po,{children:o.jsxs(vo,{children:[o.jsx(xo,{}),o.jsx(qo,{})]})})})}));
