import{b as r,j as e,c as t,G as l,E as h}from"./global.js";import{B as k}from"./Button.js";import{P as M}from"./PaginationArrowIcon.js";import{u as U}from"./useWantToValidate.js";import{N as V}from"./NavHeader.js";const D="_contentCard_1ah5o_7",q="_inputClass_1ah5o_17",w="_active_1ah5o_43",F="_loginContainer_1ah5o_54",$="_logoLogin_1ah5o_81",B="_loginCard_1ah5o_87",d={contentCard:D,inputClass:q,active:w,loginContainer:F,logoLogin:$,loginCard:B},K="_selectContainer_1edk8_2",J="_select_1edk8_2",Z="_arrow_1edk8_23",H="_active_1edk8_30",y="_optionsContainer_1edk8_33",X="_option_1edk8_33",c={selectContainer:K,select:J,arrow:Z,active:H,optionsContainer:y,option:X},z=({tipodoc:i,setTipodoc:g,type:m})=>{const[p,v]=r.useState(!1);function a(f){g(f),v(!1),m==="LOG_RANKING"&&l.Etiquetado({categoria:"página caf grativerso",accion:"click",etiqueta:"login tipo de documento - "+f,value:0}),m==="LOG_OPCIONES"&&l.Etiquetado({categoria:"visor de opciones de sorteos",accion:"click",etiqueta:"login tipo de documento - "+f,value:0})}return e.jsxs("div",{className:c.selectContainer,children:[e.jsxs("div",{className:t(c.select,p&&c.active),onClick:()=>v(!p),children:[i==="EXTRANJERIA"?"CE":i==="PASAPORTE"?"PAS":"DNI",e.jsx(M,{classNames:c.arrow,disabled:!1})]}),e.jsxs("div",{className:c.optionsContainer,children:[e.jsx("div",{className:c.option,onClick:()=>a("DNI"),id:"DNI",children:"DNI"}),e.jsx("div",{className:c.option,onClick:()=>a("EXTRANJERIA"),id:"EXTRANJERIA",children:"Carnet Ext."}),e.jsx("div",{className:c.option,onClick:()=>a("PASAPORTE"),id:"PASAPORTE",children:"Pasaporte"})]})]})},te=({promoCode:i,setShowPromoFin:g,setShowVerAvance:m,setNationalId:p,callBack:v,type:a})=>{const[f,u]=r.useState(!1),[n,C]=r.useState(""),[N,A]=r.useState("DNI"),[x,_]=r.useState(!1),O=r.useRef(!1),{data:o,isLoading:R,mutate:S}=U(i,n,`/${a}`),j=`.loginContainer::before{
    background-image: url("${h.BUCKET_IMG_PROMOCIONES}GRATIVERSO-V2/CAF/bgLoginGrativerso.png");
  }
  @media (max-width: 650px) {
    .loginContainer::before {
      background-image: url("${h.BUCKET_IMG_PROMOCIONES}GRATIVERSO-V2/CAF/bgMobileLoginGrativerso.jpg");
    }
  }
  `;function T(s){let I=!1,E=!1;const P=/^[a-zA-Z0-9]*$/,b=/^[0-9]*$/;if(s.match(P)&&(I=!0),s.match(b)&&(E=!0),s===""){C("");return}if(I){if(N==="PASAPORTE"&&s.length>=7?u(!0):s.length>7?u(N==="DNI"?!!E:!0):(u(!1),_(!1)),s.length>12)return;if(N==="DNI")if(E&&s.length<9){C(s);return}else return;else C(s),_(!1)}}function G(s){A(s),C(""),u(!1),_(!1)}function L(){a==="LOG_RANKING"&&(l.Etiquetado({categoria:"página caf grativerso",accion:"click",etiqueta:"login - siguiente",value:0}),l.Etiquetado({categoria:"página caf grativerso",accion:"click",etiqueta:`login documento ${n}`,value:0})),a==="LOG_OPCIONES"&&(l.Etiquetado({categoria:"visor de opciones de sorteos",accion:"click",etiqueta:`login documento ${n}`,value:0}),l.Etiquetado({categoria:"visor de opciones de sorteos",accion:"click",etiqueta:"login - siguiente",value:0})),S()}return r.useEffect(()=>{o&&(o.validacionIngreso==="SIN_PROMOCIONES_ACTIVAS"?(g&&g(!0),o!=null&&o.idJuagadorUnificado&&(sessionStorage.setItem("storedNationalId",n),sessionStorage.setItem("storedUnifiedPlayerId",String(o.idJuagadorUnificado)))):o.validacionIngreso==="SIN_OPCIONES"?(m&&m(!0),o!=null&&o.idJuagadorUnificado&&(sessionStorage.setItem("storedNationalId",n),sessionStorage.setItem("storedUnifiedPlayerId",String(o.idJuagadorUnificado)))):o.validacionIngreso==="SIN_REGISTRO_PROMO"?_(!0):o.validacionIngreso==="ACCESO_CORRECTO"?(p&&p(n),v&&v(o,n)):g&&g(!0))},[o]),r.useEffect(()=>{},[]),r.useEffect(()=>{O.current||(O.current=!0,a==="LOG_OPCIONES"?l.Etiquetado({categoria:"visor de opciones de sorteos",accion:"carga de página",etiqueta:"página cargada",value:0}):l.Etiquetado({categoria:"página caf grativerso",accion:"carga de página",etiqueta:"página cargada",value:0}))},[]),e.jsx("div",{className:"promos-v3-absolute promos-v3-inset-0",children:e.jsxs("div",{className:" promos-v3-bg-[#222226] promos-v3-flex promos-v3-flex-col promos-v3-relative promos-v3-h-full promos-v3-overflow-hidden",children:[e.jsx(V,{}),e.jsx("style",{scoped:!0,children:j}),e.jsx("div",{className:t(d.loginContainer,"loginContainer"),children:e.jsxs("div",{className:t(d.loginCard),children:[e.jsxs("picture",{children:[e.jsx("source",{media:"(max-width: 650px)",srcSet:h.BUCKET_IMG_PROMOCIONES+"GRATIVERSO-V2/CAF/logoMobile.png"}),e.jsx("img",{src:h.BUCKET_IMG_PROMOCIONES+"GRATIVERSO-V2/CAF/logo.png",className:t(d.logoLogin),alt:"logo-login"})]}),e.jsxs("div",{className:t(d.contentCard),children:[e.jsxs("div",{className:t("promos-v3-px-4 promos-v3-pt-8 !promos-v3-h-[190px]",x&&"!promos-v3-pt-6"),children:[e.jsx("h3",{className:"promos-v3-text-white promos-v3-text-xl promos-v3-font-bold promos-v3-mb-6",children:"Ingresa tu documento de identidad"}),e.jsxs("div",{className:"promos-v3-flex promos-v3-gap-3",children:[e.jsx("div",{className:t(d.inputClass,"promos-v3-w-[102px] promos-v3-px-0"),children:e.jsx(z,{tipodoc:N,setTipodoc:G,type:a})}),e.jsxs("div",{className:t(d.inputClass,"promos-v3-flex-1",x&&"!promos-v3-outline-[#FA8E88]"),children:[e.jsx("input",{className:t(n&&d.active),type:"text",value:n,onChange:s=>{const I=s.currentTarget.value;T(I)}}),e.jsx("label",{htmlFor:"",className:t(x&&"!promos-v3-text-[#FA8E88]"),children:"Número de documento"})]})]}),x&&e.jsxs("div",{className:"promos-v3-mt-2 promos-v3-flex promos-v3-gap-1 promos-v3-items-center",children:[e.jsx(W,{}),e.jsx("p",{className:"promos-v3-text-[#FA8E88] promos-v3-text-sm",children:"¿Eres tú? Ingresa un documento registrado."})]})]}),e.jsx("div",{className:"promos-v3-border-t-2 promos-v3-border-[#FFFFFF33] promos-v3-p-4",children:e.jsx(k,{variant:"primary",text:"siguiente",extraClass:"!promos-v3-w-full promos-v3-h-[44px]",disabled:!f,isLoading:R,handleClick:L})})]})]})})]})})},W=()=>e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M7.33398 4.66665H8.66732V5.99998H7.33398V4.66665ZM7.33398 7.33331H8.66732V11.3333H7.33398V7.33331ZM8.00065 1.33331C4.32065 1.33331 1.33398 4.31998 1.33398 7.99998C1.33398 11.68 4.32065 14.6666 8.00065 14.6666C11.6807 14.6666 14.6673 11.68 14.6673 7.99998C14.6673 4.31998 11.6807 1.33331 8.00065 1.33331ZM8.00065 13.3333C5.06065 13.3333 2.66732 10.94 2.66732 7.99998C2.66732 5.05998 5.06065 2.66665 8.00065 2.66665C10.9407 2.66665 13.334 5.05998 13.334 7.99998C13.334 10.94 10.9407 13.3333 8.00065 13.3333Z",fill:"#FA8E88"})});var Q=(i=>(i.ACUMULACION="ACUMULACION",i.VALIDACION="VALIDACION",i.RESULTADO_RANKING="RESULTADO_RANKING",i.RESULTADO="RESULTADO",i))(Q||{});export{Q as E,te as L};
