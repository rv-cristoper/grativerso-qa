import{j as o,c as m,v as P,E,G as _,b as r,h as R}from"./global.js";import{I as y,u as D}from"./useDataCartilla.js";import{B as T}from"./Button.js";import{P as k}from"./PaginationArrowIcon.js";import{u as M}from"./useWantToValidate.js";import{N as L}from"./NavHeader.js";import{L as B}from"./LoaderDisc.js";import{C as H}from"./CloseIcon.js";const V="_cartillaContainer_1dj40_2",q={cartillaContainer:V},U=({options:e,fetchMoreData:t,hasNextPage:n})=>o.jsx("div",{className:"max-md:promos-v3-px-11 max-md:promos-v3-py-5  promos-v3-p-5 promos-v3-flex-1",children:o.jsx(y,{dataLength:e.length,next:t,hasMore:n,loader:o.jsx("span",{className:"promos-v3-text-white",children:"Cargando..."}),className:m(q.cartillaContainer,"promos-v3-flex promos-v3-gap-4 promos-v3-flex-wrap promos-v3-max-w-[1232px] md:promos-v3-mx-auto"),children:e==null?void 0:e.map((l,a)=>o.jsx("span",{className:"promos-v3-text-sm promos-v3-w-[77px] promos-v3-text-white",children:l},a))})}),G=({opciones:e=0,numberSearch:t,changeInputSearch:n})=>{function l(){if(t.length>0)n(""),_.Etiquetado({categoria:"visor de opciones de sorteos",accion:"click",etiqueta:"Visor de opciones de sorteos - limpiar busqueda",value:0});else return}return o.jsx("div",{className:m("promos-v3-bg-[#FFFFFF0D] promos-v3-sticky promos-v3-top-0 promos-v3-z-[8] promos-v3-backdrop-blur-3xl"),children:o.jsx("div",{className:"promos-v3-px-4 promos-v3-py-3 md:promos-v3-py-4 promos-v3-w-full promos-v3-max-w-[1328px] promos-v3-mx-auto",children:o.jsxs("div",{className:"promos-v3-flex promos-v3-gap-4 promos-v3-justify-between promos-v3-items-center",children:[o.jsxs("div",{className:"promos-v3-flex promos-v3-gap-1 promos-v3-items-center promos-v3-flex-wrap promos-v3-min-w-[118px]",children:[o.jsx("p",{className:"promos-v3-text-sm md:promos-v3-text-sm promos-v3-font-bold promos-v3-text-white",children:"Total de opciones:"}),o.jsx("p",{className:"promos-m3-text-base md:promos-v3-text-lg promos-v3-font-bold promos-v3-text-white",children:P(e)})]}),o.jsxs("div",{className:"promos-v3-flex promos-v3-gap-1 promos-v3-rounded-lg promos-v3-border-solid promos-v3-border-1 promos-v3-border-[#FFFFFF66] promos-v3-items-center promos-v3-max-w-[306px] promos-v3-w-full promos-v3-pr-2 promos-v3-bg-[#FFFFFF1A] promos-v3-h-11",children:[o.jsx("input",{type:"text",className:"promos-v3-text-base promos-v3-h-[18px] promos-v3-ml-4 promos-v3-pr-2 promos-v3-w-full promos-v3-outline-none promos-v3-bg-transparent promos-v3-placeholder-[#FFFFFF80] promos-v3-text-white",placeholder:"Buscar opciones",value:String(t),onChange:a=>{const i=a.currentTarget.value.replace(/\D/g,"");n(i)}}),o.jsx("img",{onClick:l,src:`
                ${E.BUCKET_IMG_PROMOCIONES}SORTEO-CRUCERO/${t.length>0?"close-icon.png":"search-icon.png"}`,alt:"",className:m("promos-v3-invert",t.length>0&&"promos-v3-cursor-pointer")})]})]})})})},Z="_headerContainer_ajr85_2",$="_cardHeader_ajr85_44",z="_contenidoHeader_ajr85_49",S={headerContainer:Z,cardHeader:$,contenidoHeader:z},K=({data:e})=>{const[t,n]=r.useState(""),[l,a]=r.useState(""),[i,c]=r.useState(""),x=`.backimageheaderContainer::before{
    background-image: linear-gradient(180deg, rgba(11, 31, 53, 0.9) 13.45%, rgba(3, 23, 22, 0.85) 100%), url("${E.BUCKET_IMG_PROMOCIONES}HALA-QUE-PREMIO/CARTILLA/banner.png");
  }
  `;return r.useEffect(()=>{e&&(n(e.nombreInvitado),a(String(e.numeroDocumento)),c(e.tipoDocumento))},[e]),o.jsxs(o.Fragment,{children:[o.jsx("style",{scoped:!0,children:x}),o.jsx("div",{className:m(S.headerContainer,"backimageheaderContainer"),children:o.jsx("div",{className:S.cardHeader,children:o.jsxs("div",{className:S.contenidoHeader,children:[o.jsx("img",{src:E.BUCKET_IMG_PROMOCIONES+"HALA-QUE-PREMIO/CARTILLA/logo.png",alt:""}),o.jsx("div",{className:"promos-v3-text-white promos-v3-text-xl promos-v3-font-bold md:promos-v3-text-2xl promos-v3-h-[24px] md:promos-v3-h-[29px] promos-v3-pb-1",children:"Cartilla para sorteos"}),o.jsx("p",{className:"promos-v3-text-white promos-v3-text-sm md:promos-v3-text-lg promos-v3-font-bold promos-v3-h-[17px] md:promos-v3-h-[22px]",children:"Hala Que Premio"}),o.jsxs("p",{className:"promos-v3-text-white promos-v3-mt-3 promos-v3-text-xs md:promos-v3-text-lg promos-v3-h-[17px] md:promos-v3-h-[23px] promos-v3-overflow-ellipsis promos-v3-overflow-hidden promos-v3-whitespace-nowrap promos-v3-max-w-full",children:[o.jsx("strong",{className:"promos-v3-text-sm md:promos-v3-text-lg promos-v3-text-white",children:"Nombre:"})," ",t]}),o.jsxs("p",{className:"promos-v3-text-white promos-v3-mt-1 promos-v3-text-xs md:promos-v3-text-lg promos-v3-h-[17px] md:promos-v3-h-[23px]",children:[o.jsx("strong",{className:"promos-v3-text-sm promos-v3-text-white md:promos-v3-text-lg",children:"Doc. ID:"})," ",i==="CEX"?"CE":i," ",l]})]})})})]})},X="_contentCard_6uwc4_2",J="_inputClass_6uwc4_15",Q="_active_6uwc4_41",b={contentCard:X,inputClass:J,active:Q},W="_selectContainer_9smrb_2",Y="_select_9smrb_2",oo="_arrow_9smrb_21",so="_active_9smrb_28",eo="_optionsContainer_9smrb_31",ro="_option_9smrb_31",d={selectContainer:W,select:Y,arrow:oo,active:so,optionsContainer:eo,option:ro},to=({tipodoc:e,setTipodoc:t})=>{const[n,l]=r.useState(!1);function a(i){t(i),l(!1),_.Etiquetado({categoria:"visor de opciones de sorteos",accion:"click",etiqueta:"Visor de opciones de sorteos - tipo de documento - "+i,value:0})}return o.jsxs("div",{className:d.selectContainer,children:[o.jsxs("div",{className:m(d.select,n&&d.active),onClick:()=>l(!n),children:[e==="EXTRANJERIA"?"CE":e==="PASAPORTE"?"PAS":"DNI",o.jsx(k,{classNames:d.arrow,disabled:!1})]}),o.jsxs("div",{className:d.optionsContainer,children:[o.jsx("div",{className:d.option,onClick:()=>a("DNI"),id:"DNI",children:"DNI"}),o.jsx("div",{className:d.option,onClick:()=>a("EXTRANJERIA"),id:"EXTRANJERIA",children:"Carnet Ext."}),o.jsx("div",{className:d.option,onClick:()=>a("PASAPORTE"),id:"PASAPORTE",children:"Pasaporte"})]})]})},ao=({promoCode:e,setShowPromoFin:t,setNationalID:n})=>{const[l,a]=r.useState(!1),[i,c]=r.useState(""),[x,w]=r.useState("DNI"),[h,u]=r.useState(!1),{data:p,isLoading:C,mutate:j}=M(e,i);function v(s){let f=!1,N=!1;const F=/^[a-zA-Z0-9]*$/,g=/^[0-9]*$/;if(s.match(F)&&(f=!0),s.match(g)&&(N=!0),s===""){c("");return}if(f){if(s.length>7?a(x==="DNI"?!!N:!0):(a(!1),u(!1)),s.length>12)return;if(x==="DNI")if(N&&s.length<9){c(s);return}else return;else c(s),u(!1)}}function A(s){w(s),c(""),a(!1),u(!1)}function I(){_.Etiquetado({categoria:"visor de opciones de sorteos",accion:"click",etiqueta:"Visor de opciones de sorteos - siguiente",value:0}),j()}return r.useEffect(()=>{p&&(p.validacionIngreso==="SIN_OPCIONES"?t(!0):p.validacionIngreso==="SIN_REGISTRO_PROMO"?u(!0):p.validacionIngreso==="ACCESO_CORRECTO"?n(i):t(!0))},[p]),r.useEffect(()=>{const s={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return s.Android()||s.BlackBerry()||s.iOS()||s.Opera()||s.Windows()}};s.any()===null&&(window.location.href="/")},[]),o.jsx("div",{className:"promos-v3-absolute promos-v3-inset-0",children:o.jsxs("div",{className:" promos-v3-bg-[#222226] promos-v3-flex promos-v3-flex-col promos-v3-relative promos-v3-h-full promos-v3-overflow-hidden",children:[o.jsx(L,{}),o.jsx("img",{src:E.BUCKET_IMG_PROMOCIONES+"SORTEO-CRUCERO/ETAPA-SORTEO/BackgroundLoginCartilla.png",className:"promos-v3-w-full",alt:""}),o.jsxs("div",{className:m(b.contentCard),children:[o.jsxs("div",{className:m("promos-v3-px-4 promos-v3-pt-8 !promos-v3-h-[190px]",h&&"!promos-v3-pt-6"),children:[o.jsx("h3",{className:"promos-v3-text-white promos-v3-text-xl promos-v3-font-bold promos-v3-mb-6",children:"Ingresa tu documento de identidad"}),o.jsxs("div",{className:"promos-v3-flex promos-v3-gap-3",children:[o.jsx("div",{className:m(b.inputClass,"promos-v3-w-[102px] promos-v3-px-0"),children:o.jsx(to,{tipodoc:x,setTipodoc:A})}),o.jsxs("div",{className:m(b.inputClass,"promos-v3-flex-1",h&&"!promos-v3-outline-[#FA8E88]"),children:[o.jsx("input",{className:m(i&&b.active),type:"text",value:i,onChange:s=>{const f=s.currentTarget.value;v(f)}}),o.jsx("label",{htmlFor:"",className:m(h&&"!promos-v3-text-[#FA8E88]"),children:"Número de documento"})]})]}),h&&o.jsxs("div",{className:"promos-v3-mt-2 promos-v3-flex promos-v3-gap-1 promos-v3-items-center",children:[o.jsx(no,{}),o.jsx("p",{className:"promos-v3-text-[#FA8E88] promos-v3-text-sm",children:"¿Eres tú? Ingresa un documento registrado."})]})]}),o.jsx("div",{className:"promos-v3-border-t-2 promos-v3-border-[#FFFFFF33] promos-v3-p-4",children:o.jsx(T,{variant:"primary",text:"siguiente",extraClass:"!promos-v3-w-full promos-v3-h-[44px]",disabled:!l,isLoading:C,handleClick:I})})]})]})})},no=()=>o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M7.33398 4.66665H8.66732V5.99998H7.33398V4.66665ZM7.33398 7.33331H8.66732V11.3333H7.33398V7.33331ZM8.00065 1.33331C4.32065 1.33331 1.33398 4.31998 1.33398 7.99998C1.33398 11.68 4.32065 14.6666 8.00065 14.6666C11.6807 14.6666 14.6673 11.68 14.6673 7.99998C14.6673 4.31998 11.6807 1.33331 8.00065 1.33331ZM8.00065 13.3333C5.06065 13.3333 2.66732 10.94 2.66732 7.99998C2.66732 5.05998 5.06065 2.66665 8.00065 2.66665C10.9407 2.66665 13.334 5.05998 13.334 7.99998C13.334 10.94 10.9407 13.3333 8.00065 13.3333Z",fill:"#FA8E88"})}),io=({setShowPromoFin:e})=>{function t(){e(!1),_.Etiquetado({categoria:"visor de opciones de sorteos",accion:"click",etiqueta:"Visor de opciones de sorteos - salir",value:0})}return o.jsx("div",{className:"promos-v3-absolute promos-v3-inset-0",children:o.jsxs("div",{className:"promos-v3-bg-[#222226] promos-v3-h-full promos-v3-overflow-hidden promos-v3-flex promos-v3-flex-col",children:[o.jsx(L,{}),o.jsxs("div",{className:"promos-v3-bg-[radial-gradient(145.69%_100.22%_at_50%_116.07%,rgba(255,200,0,0.2)0%,rgba(38,38,34,0)100%)] promos-v3-flex promos-v3-flex-col promos-v3-flex-1",children:[o.jsxs("div",{className:"promos-v3-flex-1 promos-v3-flex promos-v3-flex-col promos-v3-justify-center promos-v3-p-8",children:[o.jsx("h4",{className:"promos-v3-text-white promos-v3-text-xl promos-v3-font-bold",children:"Promoción finalizada"}),o.jsxs("p",{className:"promos-v3-text-white promos-v3-text-base promos-v3-mt-6",children:["Conoce tus resultados desde el ",o.jsx("strong",{children:"módulo INFO"})," o acércate ",o.jsx("strong",{children:"al counter principal."})]}),o.jsx("p",{className:"promos-v3-text-white promos-v3-text-base promos-v3-mt-4",children:"¡Gracias por participar de nuestras promociones!"})]}),o.jsx("div",{className:"promos-v3-p-4",children:o.jsx(T,{variant:"primary",text:"salir",extraClass:"!promos-v3-w-full promos-v3-h-[44px]",handleClick:t})})]})]})})},lo=()=>o.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M41.8 42L28.65 28.85C28.1833 29.2167 27.6583 29.575 27.075 29.925C26.4917 30.275 25.9333 30.5667 25.4 30.8C25.2333 30.3333 25.05 29.8583 24.85 29.375C24.65 28.8917 24.4167 28.45 24.15 28.05C25.95 27.35 27.475 26.1917 28.725 24.575C29.975 22.9583 30.6 21.0333 30.6 18.8C30.6 16.1 29.65 13.7917 27.75 11.875C25.85 9.95833 23.55 9 20.85 9C18.1167 9 15.7917 9.95833 13.875 11.875C11.9583 13.7917 11 16.1 11 18.8C11 19.3667 11.0583 19.9583 11.175 20.575C11.2917 21.1917 11.4333 21.7167 11.6 22.15C11.1667 22.2167 10.6833 22.325 10.15 22.475C9.61667 22.625 9.13333 22.8 8.7 23C8.46667 22.4 8.29167 21.7333 8.175 21C8.05833 20.2667 8 19.5333 8 18.8C8 15.2333 9.25 12.2083 11.75 9.725C14.25 7.24167 17.2833 6 20.85 6C24.3833 6 27.3917 7.25 29.875 9.75C32.3583 12.25 33.6 15.2667 33.6 18.8C33.6 20.2333 33.35 21.65 32.85 23.05C32.35 24.45 31.6667 25.6667 30.8 26.7L44 39.8L41.8 42Z",fill:"white"}),o.jsx("path",{d:"M17.59 29L14 32.59L10.41 29L9 30.41L12.59 34L9 37.59L10.41 39L14 35.41L17.59 39L19 37.59L15.41 34L19 30.41L17.59 29Z",fill:"white"}),o.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24 34C24 39.5228 19.5228 44 14 44C8.47715 44 4 39.5228 4 34C4 28.4772 8.47715 24 14 24C19.5228 24 24 28.4772 24 34ZM21.6 34C21.6 38.1974 18.1974 41.6 14 41.6C9.80264 41.6 6.4 38.1974 6.4 34C6.4 29.8026 9.80264 26.4 14 26.4C18.1974 26.4 21.6 29.8026 21.6 34Z",fill:"white"})]}),O="hala-que-premio";function go({onClose:e}){const{national_id:t}=R(),[n,l]=r.useState(""),[a,i]=r.useState(!1),[c,x]=r.useState(0),[w,h]=r.useState(t||"42574089"),[u]=r.useState(1),[p]=r.useState(""),{isLoading:C,isError:j,options:v,fetchNextPage:A,hasNextPage:I,cantidadOpciones:s,data:f}=D(O,u,n.length>2?n:"",w,p);r.useEffect(()=>{s&&s>0&&x(s)},[s]);const N=g=>{h(g)};function F(g){g.length<9&&l(g)}return C&&!j&&n.length===0&&p===""?o.jsx("div",{className:"promos-v3-absolute promos-v3-inset-0 promos-v3-bg-[#EFEDFF]",children:o.jsx(B,{full:!0})}):a?o.jsx(io,{setShowPromoFin:i}):w?o.jsx("div",{className:"promos-v3-absolute promos-v3-w-full promos-v3-min-h-full",style:{backgroundImage:"linear-gradient(180deg, #0B1F35 13.45%, #031716 100%)",backgroundAttachment:"fixed"},children:o.jsx("div",{className:"promos-v3-h-full promos-v3-flex promos-v3-flex-col ",children:o.jsxs("div",{className:"promos-v3-flex promos-v3-flex-col",children:[o.jsx("div",{className:m("promos-v3-cursor-pointer promos-v3-h-8 promos-v3-items-center promos-v3-justify-end promos-v3-flex promos-v3-mt-2 promos-v3-px-3","promos-v3-absolute promos-v3-top-[-3px] md:promos-v3-top-[17px] promos-v3-right-2 md:promos-v3-right-6 promos-v3-z-10"),onClick:e,children:o.jsx(H,{})}),o.jsx(K,{data:f}),o.jsx(G,{opciones:c,numberSearch:n,changeInputSearch:F}),v.length>0&&v[0]!==null&&o.jsx(U,{options:v,fetchMoreData:A,hasNextPage:I===!0}),C&&o.jsx("div",{className:"promos-v3-p-5 promos-v3-flex promos-v3-justify-center promos-v3-items-center promos-v3-min-h-[100px]",children:o.jsx("strong",{className:"promos-v3-text-base promos-v3-text-white promos-v3-mt-4",children:"Cargando..."})}),(!C&&!j&&(!v||v.length===0||v[0]===null)||j)&&o.jsxs("div",{className:"promos-v3-p-5 promos-v3-flex promos-v3-flex-col promos-v3-justify-center promos-v3-items-center promos-v3-h-[calc(100vh-400px)] md:promos-v3-h-[calc(100vh-550px)] promos-v3-min-h-[200px]",children:[o.jsx(lo,{}),o.jsx("p",{className:"promos-v3-text-base md:promos-v3-text-lg promos-v3-text-white promos-v3-mt-4",children:"No se encontraron resultados."})]})]})})}):o.jsx(ao,{promoCode:O,setNationalID:N,setShowPromoFin:i})}export{go as C};
