import{u as l,i as m}from"./TableItems.js";import{g as c,h as y,i,D as p}from"./global.js";import{u as g}from"./useQuery.js";const w=async(r,o)=>{try{const{idPromotion:t}=c[r],{national_id:e}=y(),{data:n}=await i.get(`${o}/mixto/${t}/avances?numero_documento=${e}`);return n.data}catch(t){throw console.error("Error en peticion",t),t}},x=async(r,o)=>{try{const{idPromotion:t,type:e}=c[r],{data:n}=await i.get(` ${o}/${e==="mixto"?e:e+"s"}/${t}/metas`);return n.data}catch(t){throw console.error("Error en peticion:",t),t}},$=async(r,o)=>{try{const{idPromotion:t}=c[r],{national_id:e}=y(),{data:n}=await i.get(`${o}/mixto/${t}/premios?numero_documento=${e}`);return n.data}catch(t){throw console.error("Error en getInformacionMixto:",t),t}},M=async(r,o,t)=>{var e,n;try{const{idPromotion:a,idPromotionMensual:s}=c[r],{national_id:u}=y(),{data:d}=await i.get(`${o}/mixto/${t=="MENSUAL"?s:a}/resultados?numero_documento=${u}`);return(n=(e=d.data)==null?void 0:e.botonesImpresion)==null||n.forEach((f,h)=>{f.bloque=`bloque${h+2}`}),d.data}catch(a){throw console.error("Erro en peticion",a),a}},_=(r,o,t)=>{const[e]=l(m),n=["mixto",r,o],a=()=>$(r,e),s=()=>M(r,e,t),u=()=>w(r,e);return{mixtoBodyQuery:g(n,()=>{switch(o){case"informacion":return a();case"avance":return u();case"resultados":return s();default:throw new Error("Unimplemented tab")}},{refetchOnWindowFocus:!1,enabled:!!e&&(!!t||o==="informacion")})}},A=r=>{var n,a;const{type:o}=c[r],[t]=l(m),e=g([o+"Meta",r],()=>x(r,t),{refetchOnWindowFocus:!1});return(n=e.data)!=null&&n.metas[0]?(a=e.data)==null?void 0:a.metas[0]:null},P=async r=>{try{const{data:o}=await p.get(`GetLoginVertical?Jugador_Online_Id=${r}`);return o.data.length>0?o.data[0]:null}catch(o){throw console.error("Error en peticion:",o),o}},D=()=>{const r="verticalQuery",[o]=l(m);return g([r],()=>P(o),{refetchOnWindowFocus:!1})};export{A as a,D as b,_ as u};
