var m=Object.defineProperty;var g=(s,t,o)=>t in s?m(s,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[t]=o;var r=(s,t,o)=>(g(s,typeof t!="symbol"?t+"":t,o),o);import{g as u,i as e}from"./global.js";import{u as p,i as $}from"./TableItems.js";import{u as b}from"./useQuery.js";const y=async(s,t)=>{try{const{idPromotion:o}=u[s],{data:a}=await e.get(`${t}/mixto/${o}/resultadosanteriores`);return a.data}catch(o){throw console.error(`Error en petición ${s} `,o),o}};class n{}r(n,"getWeekInfo",async t=>(await e.get(`${t}/mixtofisico/infosemanaspublicopromocion`)).data),r(n,"getAvanceInfo",async(t,o)=>{const{data:a}=await e.get(`${o}/mixtofisico/${t}/avancepublicopromocion`);return a.data}),r(n,"getBonusTrackInfo",async(t,o)=>{const{data:a}=await e.get(`${o}/mixtofisico/${t}/metaspublicopromocion`);return a.data}),r(n,"getEarnedBonusTracks",async({promoId:t,unifiedId:o,startBonus:a=1,endBonus:i=10})=>{try{const{data:c}=await e.get(`${o}/mixtofisico/${t}/bonustrackpublicopromocion?inicio_bonus=${a}&fin_bonus=${i}`);return c.data}catch{return{bonusTrack:[],cantidadBonusObtenidos:0,final:0,inicio:0}}}),r(n,"getResultadosAnteriores",async(t,o)=>{try{const{data:a}=await e.get(`${o}/mixtofisico/${t}/resultadopublicoanteriores`);return a.data}catch(a){throw console.error(`Error en petición ${t} `,a),a}}),r(n,"getResultado",async(t,o)=>{var i,c;const{data:a}=await e.get(`${o}/mixtofisico/${t}/resultadopublico`);return(c=(i=a.data)==null?void 0:i.botonesImpresion)==null||c.forEach((d,l)=>{d.bloque=`bloque${l+2}`}),a.data});const A=(s,t)=>{const[o]=p($),a=sessionStorage.getItem("storedUnifiedPlayerId")??"0",{idPromotion:i}=u[s];return b({queryKey:["resultadosAnteriores",s,t],queryFn:()=>t?n.getResultadosAnteriores(i,+a):y(s,o),enabled:t?!!a:!!o,refetchOnWindowFocus:!1})};export{n as C,A as u};
