import{g as c,i as u}from"./global.js";import{u as d}from"./useBaseQuery.js";import{u as l}from"./useMutation.js";const m=async({promoCode:t,national_id:n,adicionalData:e})=>{var r;try{const{idPromotion:a}=c[t],{data:o}=await u.get(`login/${n}/${a}${e}`);return{mensaje:o.data.mensaje,validacionIngreso:o.data.validacionIngreso,idJuagadorUnificado:(r=o.data)==null?void 0:r.idJuagadorUnificado}}catch(a){throw console.error("Erro en peticion",a),a}},f=(t,n="",e="")=>{const r=d(),{data:a,mutate:o,isLoading:i}=l(()=>m({promoCode:t,national_id:n,adicionalData:e}),{onSuccess:async s=>{await r.setQueryData(["CARTILLA"],s)},onError:async()=>{console.error("Ocurri√≥ un error vuelva a intentarlo")}});return{data:a,mutate:o,isLoading:i}};export{f as u};
